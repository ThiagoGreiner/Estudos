# O que são Exceções

São eventos que desviam o fluxo normal de um script durante a execução de um programa.

Ocorrem por conta de requisitos obrigatórios que não foram atendidos.

Todas exceções tem como base a classe ``Exception`` do PHP.

* As exceções podems ser usadas tanto nos paradigmas Orientados a Objetos/Procedural

Exceções são **semelhantes a erros**, porém, tratam-se de tipos de problemas distinstos.

* **Erro** é algo inesperado e gerado pelo próprio PHP, e **exceções** estão mais relacionadas com a violação de regras de negócio, ou seja, quando um requisito do software não é atendido.

**Ex:** Um exemplo de exceção é quando o sistema espera que o usuario informe sua idade como um numero ``inteiro`` mas o usuario fornecesse esse dado como ``float`` ou ``string``.

## Lançamento de Exceções

Exceções também podem ser lançadas por funções e classes definidas pelo usuário.

E ao criar nossa própria exceção podemos manipular essa interrupção de fluxo de uma maneira que contribua com a usabilidade do sistema.

Exceções são lançadas pelo ``THROW``, conforme exemplo.

```php
<?php
    // Criando uma função para a exceção
    function excecao($inteiro) {
        // Validando se o numero passado é inteiro, para isso utilizamos a função "is_int", neste caso queremos saber se o numero NÃO é inteiro, então combinamos a função com o operador "!"
        if (!is_int($inteiro)) {
            //Criando a função com o lançador THROW
            throw new Expetion("O numero passado não é um numero inteiro");
        } else {
            echo "O numero passado é um inteiro valido"
        }

    }
?>
```

No exemplo utilizamos o lançador ``THROW`` junto ao ``new`` que utilizamos para intanciar classes em PHP, neste casoa a classe ``Expetion``.

## Tratamento de Exceções

O tratamento de exceções serve para que as mensagens apareçam de forma mais amigavel ao usuario, e para realizar este tratamento fazemos uso do ``TRY`` e do ``CATCH``.

```php
<?php
    function excecao($inteiro) {
       
        try{
            if (!is_int($inteiro)) {
                throw new RangeException("O numero passado não é um numero inteiro");
            }

        }catch(Exception){
            echo "O numero passado não é um numero inteiro" . "\n";

        }finally{
            echo "Tratando exceções";
        }
    }
?>
```

Podemos tambem adicionar o ``FINALLY``, caso seja necessário, porem esta mensagem dele sempre aparecera mesmo sem a exceção