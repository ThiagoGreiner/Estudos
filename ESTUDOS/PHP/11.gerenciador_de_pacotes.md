# Gerenciadores de Pacotes

Gerenciadores de pacotes, tambem chamados de gerenciadores de depêndencias são ferramentas utilizadas para colocar e gerenciar bibliotecas dentro de um projeto.
Neste caso veremos sobre o composer.

### Onde Buscar Dependências do Composer

Podemos buscar dependências tanto no GitHub como no Packagist

No caso do [Packagist](https://packagist.org/) podemos usar a barra de pesquisa dentro do site para encontrar oque precisamos. Por exemplo se precisar de um gerador de PDF para utilizar no projeto, pode se buscar na barra de pesquisa utilizando uma palavra chave (PDF).

Após encontrar o conteudo desejado, basta acessar e seguir o passo a passo de utilização.

Todas as bibliotecas disponiveis tem um ``USO``, onde possui algumas informações de uso basico daquela biblioteca.

## Composer

abaixo veremos os comando utilizos para iniciar um projeto e para incluir dependências em um projeto.

### composer init 

Ao rodar esse comando no CMD ele ira iniciar um projeto com composer e retornar algumas perguntas:

* Packge name = Informamos um nome para o projeto, se deixar em branco ele ira puxar o nome padrão que aparece entre ``[ ]``.
    
* Description = Informamos um breve descrição do projeto.

* Autor = Geralmente ele puxa automático, aparece entre ``[ ]``.

* Minimun Stability = Deixar em branco

* Package Type = Geralmente utilizamos projeto (project)

* License = Deixar em branco

* Irá utilizar/buscar alguma dependência para o projeto = Yes ou no

Após todas as perguntas respondidas, o projeto sera gerado semelhante ao seguinte exemplo

```json
{
    "name": "thiag/composerphp",
    "description": "Estudando Composer",
    "type": "project",
    "autoload": {
        "psr-4": {
            "Thiag\\Composerphp\\": "src/"
        }
    },
    "authors": [
        {
            "name": "Thiago Greiner Rodrigues",
            "email": "thiagogreiner0@gmail.com"
        }
    ],
    //Em require declaramos as dependencias(bibliotecas) que serão utilizadas no projeto
    "require": {},

    //Utilizado no desenvolvimento do projeto, como dependencias para realizar testes unitarios
    "require-dev": {}
}
```

### composer required

Serve para localizar dependências e instalar elas em um projeto

Para instalar a dependência basta rodar o ``composer require`` comando no CMD e informar o nome da dependência que deseja utilizar,neste exemplo o nome da dependência seria ``mpdf/mpdf``, então o comando ficaria desta forma ``composer require mpdf/mpdf``.

Após rodar o comando a dependência aparecera em ``require``.

Outra maneira de instalar estas dependências é declarar manualmente dentro do ``require`` conforme exemplo.

```json
"require": {
        "mpdf/mpdf": "^6.1"
}
```

Depois basta rodar o comando  ``composer install`` no CMD, assim sera instalado todas as dependências declaradas.

### Composer update

Serve para a atualizar as versões das dependências instaladas no projeto

> [!WARNING]
> Importante lembrar que esta atualização tambem ira atualizar o composer Lock, e podera causar quebra no código

### Composer remove

Este comando serve para remover dependências já instaladas no projeto, para isso basta rodas o comando ``composer remove`` no CMD seguido do nome da dependência, digamos que seja a mesma usada anteriormente ``mpdf/mpdf``, então bastaria rodar o comando ``composer remove mpdf/mpdf``..

## Arquivo Composer Lock

Neste arquivo são armazenados as versões de todas dependências que estão sendo utilizadas no projeto, isto evita que se pessoas diferentes trabalhem com versões diferentes dentro de um mesmo projetos, oque poderia causar quebras no código.

## Pasta Vendor

Neste pasta ficaram todos os arquivos que o composer utiliza e tambem os arquivos utilizados pelas dependências que estão sendo utilizadas no projeto.

## Arquivo autoload

Este arquivo faz o mapeamento de todas dependências que foram instaladas no projeto via composer, assim não temos necessidade declarar um ``require`` para cada dependência instalada, basta declarar uma unica vez o require abaixo.

```php
require __DIR__ . '/vendor/autoload.php';

```

> [!WARNING]
> O caminho ``'/vendor/autoload.php'`` pode se alterar conforme o local dos arquivos dentro do projeto